{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\risha\\\\OneDrive\\\\Desktop\\\\blog app\\\\public\\\\src\\\\components\\\\CommentList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CommentList({\n  comments,\n  isAuth,\n  fetchComments\n}) {\n  _s();\n  const [editing, setEditing] = useState(null);\n  const [editContent, setEditContent] = useState('');\n  const handleEdit = comment => {\n    setEditing(comment._id);\n    setEditContent(comment.content);\n  };\n  const handleSave = async id => {\n    try {\n      await api.put(`/comments/${id}`, {\n        content: editContent\n      });\n      setEditing(null);\n      fetchComments();\n    } catch (err) {\n      alert('Failed to update comment');\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      await api.delete(`/comments/${id}`);\n      fetchComments();\n    } catch (err) {\n      alert('Failed to delete comment');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #eee',\n        margin: '5px',\n        padding: '5px'\n      },\n      children: editing === comment._id ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: editContent,\n          onChange: e => setEditContent(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSave(comment._id),\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setEditing(null),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: comment.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"By: \", comment.author.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this), isAuth && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEdit(comment),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(comment._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)\n    }, comment._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentList, \"wu8z0/rZxp70YcQtkOQ70bDtPIc=\");\n_c = CommentList;\nexport default CommentList;\nvar _c;\n$RefreshReg$(_c, \"CommentList\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","CommentList","comments","isAuth","fetchComments","_s","editing","setEditing","editContent","setEditContent","handleEdit","comment","_id","content","handleSave","id","put","err","alert","handleDelete","delete","children","map","style","border","margin","padding","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","author","username","_c","$RefreshReg$"],"sources":["C:/Users/risha/OneDrive/Desktop/blog app/public/src/components/CommentList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport api from '../services/api';\r\n\r\nfunction CommentList({ comments, isAuth, fetchComments }) {\r\n  const [editing, setEditing] = useState(null);\r\n  const [editContent, setEditContent] = useState('');\r\n\r\n  const handleEdit = (comment) => {\r\n    setEditing(comment._id);\r\n    setEditContent(comment.content);\r\n  };\r\n\r\n  const handleSave = async (id) => {\r\n    try {\r\n      await api.put(`/comments/${id}`, { content: editContent });\r\n      setEditing(null);\r\n      fetchComments();\r\n    } catch (err) {\r\n      alert('Failed to update comment');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await api.delete(`/comments/${id}`);\r\n      fetchComments();\r\n    } catch (err) {\r\n      alert('Failed to delete comment');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {comments.map(comment => (\r\n        <div key={comment._id} style={{ border: '1px solid #eee', margin: '5px', padding: '5px' }}>\r\n          {editing === comment._id ? (\r\n            <div>\r\n              <textarea value={editContent} onChange={(e) => setEditContent(e.target.value)} />\r\n              <button onClick={() => handleSave(comment._id)}>Save</button>\r\n              <button onClick={() => setEditing(null)}>Cancel</button>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <p>{comment.content}</p>\r\n              <p>By: {comment.author.username}</p>\r\n              {isAuth && (\r\n                <div>\r\n                  <button onClick={() => handleEdit(comment)}>Edit</button>\r\n                  <button onClick={() => handleDelete(comment._id)}>Delete</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CommentList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}