{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\risha\\\\OneDrive\\\\Desktop\\\\blog app\\\\public\\\\src\\\\components\\\\PostCard.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PostCard({\n  post\n}) {\n  var _post$author, _post$author2, _post$likes2;\n  const getInitials = username => {\n    return username ? username.charAt(0).toUpperCase() : '?';\n  };\n  const truncateContent = (content, maxLength = 150) => {\n    if (!content) return '';\n    return content.length > maxLength ? content.substring(0, maxLength) + '...' : content;\n  };\n  const handleLike = async e => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        alert('Please login to like posts');\n        return;\n      }\n      await api.post(`/posts/${post._id}/like`);\n      // Refresh the page or update state to reflect the like\n      window.location.reload();\n    } catch (err) {\n      var _err$response;\n      console.error('Failed to like post:', err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n        alert('Please login to like posts');\n      } else {\n        alert('Failed to like post. Please try again.');\n      }\n    }\n  };\n  const isLikedByUser = () => {\n    var _post$likes;\n    const userId = localStorage.getItem('userId');\n    return (_post$likes = post.likes) === null || _post$likes === void 0 ? void 0 : _post$likes.some(like => like.user === userId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"post-card fade-in-on-scroll\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"post-title\",\n      children: post.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-author\",\n      style: {\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"author-avatar\",\n        children: getInitials((_post$author = post.author) === null || _post$author === void 0 ? void 0 : _post$author.username)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"By \", ((_post$author2 = post.author) === null || _post$author2 === void 0 ? void 0 : _post$author2.username) || 'Anonymous']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: 'auto',\n          color: 'rgba(0,0,0,0.5)',\n          fontSize: '0.8rem'\n        },\n        children: new Date(post.createdAt).toLocaleDateString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), post.content && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"post-excerpt\",\n      children: truncateContent(post.content)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), post.tags && post.tags.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '0.5rem',\n        flexWrap: 'wrap',\n        marginBottom: '1rem'\n      },\n      children: post.tags.map((tag, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          background: 'var(--gradient-accent)',\n          color: 'white',\n          padding: '0.25rem 0.5rem',\n          borderRadius: '12px',\n          fontSize: '0.75rem',\n          fontWeight: '500'\n        },\n        children: [\"#\", tag]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLike,\n        className: `like-btn ${isLikedByUser() ? 'liked' : ''}`,\n        style: {\n          background: 'none',\n          border: 'none',\n          color: isLikedByUser() ? '#ff6b6b' : 'rgba(0,0,0,0.6)',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem',\n          fontSize: '0.9rem',\n          fontWeight: '600',\n          padding: '0.5rem',\n          borderRadius: '20px',\n          transition: 'all 0.3s ease'\n        },\n        children: [\"\\u2764\\uFE0F \", ((_post$likes2 = post.likes) === null || _post$likes2 === void 0 ? void 0 : _post$likes2.length) || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/posts/${post._id}`,\n        className: \"read-more-btn\",\n        children: \"\\uD83D\\uDCD6 Read More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_c = PostCard;\nexport default PostCard;\nvar _c;\n$RefreshReg$(_c, \"PostCard\");","map":{"version":3,"names":["React","Link","api","jsxDEV","_jsxDEV","PostCard","post","_post$author","_post$author2","_post$likes2","getInitials","username","charAt","toUpperCase","truncateContent","content","maxLength","length","substring","handleLike","e","preventDefault","token","localStorage","getItem","alert","_id","window","location","reload","err","_err$response","console","error","response","status","isLikedByUser","_post$likes","userId","likes","some","like","user","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","author","marginLeft","color","fontSize","Date","createdAt","toLocaleDateString","tags","display","gap","flexWrap","map","tag","index","background","padding","borderRadius","fontWeight","justifyContent","alignItems","marginTop","onClick","border","cursor","transition","to","_c","$RefreshReg$"],"sources":["C:/Users/risha/OneDrive/Desktop/blog app/public/src/components/PostCard.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../services/api';\n\nfunction PostCard({ post }) {\n  const getInitials = (username) => {\n    return username ? username.charAt(0).toUpperCase() : '?';\n  };\n\n  const truncateContent = (content, maxLength = 150) => {\n    if (!content) return '';\n    return content.length > maxLength ? content.substring(0, maxLength) + '...' : content;\n  };\n\n  const handleLike = async (e) => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        alert('Please login to like posts');\n        return;\n      }\n      await api.post(`/posts/${post._id}/like`);\n      // Refresh the page or update state to reflect the like\n      window.location.reload();\n    } catch (err) {\n      console.error('Failed to like post:', err);\n      if (err.response?.status === 401) {\n        alert('Please login to like posts');\n      } else {\n        alert('Failed to like post. Please try again.');\n      }\n    }\n  };\n\n  const isLikedByUser = () => {\n    const userId = localStorage.getItem('userId');\n    return post.likes?.some(like => like.user === userId);\n  };\n\n  return (\n    <article className=\"post-card fade-in-on-scroll\">\n      <h3 className=\"post-title\">{post.title}</h3>\n      \n      <div className=\"post-author\" style={{ marginBottom: '1rem' }}>\n        <div className=\"author-avatar\">\n          {getInitials(post.author?.username)}\n        </div>\n        <span>By {post.author?.username || 'Anonymous'}</span>\n        <span style={{ marginLeft: 'auto', color: 'rgba(0,0,0,0.5)', fontSize: '0.8rem' }}>\n          {new Date(post.createdAt).toLocaleDateString()}\n        </span>\n      </div>\n      \n      {post.content && (\n        <p className=\"post-excerpt\">\n          {truncateContent(post.content)}\n        </p>\n      )}\n\n      {/* Tags */}\n      {post.tags && post.tags.length > 0 && (\n        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap', marginBottom: '1rem' }}>\n          {post.tags.map((tag, index) => (\n            <span key={index} style={{\n              background: 'var(--gradient-accent)',\n              color: 'white',\n              padding: '0.25rem 0.5rem',\n              borderRadius: '12px',\n              fontSize: '0.75rem',\n              fontWeight: '500'\n            }}>\n              #{tag}\n            </span>\n          ))}\n        </div>\n      )}\n\n      {/* Post Actions */}\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginTop: '1rem' }}>\n        <button\n          onClick={handleLike}\n          className={`like-btn ${isLikedByUser() ? 'liked' : ''}`}\n          style={{\n            background: 'none',\n            border: 'none',\n            color: isLikedByUser() ? '#ff6b6b' : 'rgba(0,0,0,0.6)',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            fontSize: '0.9rem',\n            fontWeight: '600',\n            padding: '0.5rem',\n            borderRadius: '20px',\n            transition: 'all 0.3s ease'\n          }}\n        >\n          ❤️ {post.likes?.length || 0}\n        </button>\n        \n        <Link to={`/posts/${post._id}`} className=\"read-more-btn\">\n          📖 Read More\n        </Link>\n      </div>\n    </article>\n  );\n}\n\nexport default PostCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}